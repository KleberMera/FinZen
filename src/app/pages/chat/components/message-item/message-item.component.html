<!-- src/app/chat/components/message-item/message-item.component.html -->
@if (message().type === 'bot') {
  <div class="flex items-start space-x-3 animate-fade-in mb-4">
    <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 dark:from-blue-600 dark:to-blue-800 flex items-center justify-center flex-shrink-0 shadow-sm">
      <span class="text-white text-sm md:text-base">ğŸ¤–</span>
    </div>
    <div class="bg-blue-50 dark:bg-blue-900/40 rounded-2xl rounded-tl-none p-3 md:p-4 max-w-[80%] md:max-w-[75%] shadow-sm border border-blue-100/50 dark:border-blue-800/30">
      <p class="text-sm md:text-base text-gray-800 dark:text-gray-200 whitespace-pre-line">{{message().text}}</p>
      <span class="text-xs text-gray-500 dark:text-gray-400 mt-2 block">{{message().time}}</span>
    </div>
  </div>
} @else if (message().type === 'bot-card') {
  <div class="flex items-start space-x-3 animate-fade-in mb-4">
    <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 dark:from-blue-600 dark:to-blue-800 flex items-center justify-center flex-shrink-0 shadow-sm">
      <span class="text-white text-sm md:text-base">ğŸ¤–</span>
    </div>
    <div class="bg-blue-50 dark:bg-blue-900/40 rounded-2xl rounded-tl-none p-3 md:p-4 max-w-[80%] md:max-w-[75%] shadow-sm border border-blue-100/50 dark:border-blue-800/30">
      <app-chat-transaction-card [transaction]="message().transaction"></app-chat-transaction-card>
      <span class="text-xs text-gray-500 dark:text-gray-400 mt-2 block">{{ message().time }}</span>
    </div>
  </div>
} @else {
  <div class="flex items-start justify-end space-x-3 animate-fade-in mb-4">
    <div class="bg-indigo-50 dark:bg-indigo-900/40 rounded-2xl rounded-tr-none p-3 md:p-4 max-w-[80%] md:max-w-[75%] shadow-sm border border-indigo-100/50 dark:border-indigo-800/30">
      <p class="text-sm md:text-base text-gray-800 dark:text-gray-200 whitespace-pre-line">{{message().text}}</p>
      
      <!-- Mostrar la imagen si el mensaje es de tipo imagen -->
      @if (message().imageUrl) {
        <div class="mt-3 rounded-xl overflow-hidden shadow-sm">
          <img [src]="message().imageUrl" alt="Imagen enviada" class="max-w-full max-h-48 md:max-h-64 object-contain bg-gray-100 dark:bg-gray-800">
        </div>
      }
      
      <span class="text-xs text-gray-500 dark:text-gray-400 mt-2 block text-right">{{message().time}}</span>
    </div>
    <div class="w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-indigo-400 to-indigo-600 dark:from-indigo-600 dark:to-indigo-800 flex items-center justify-center flex-shrink-0 shadow-sm">
      <span class="text-white text-sm md:text-base">ğŸ‘¤</span>
    </div>
  </div>
}