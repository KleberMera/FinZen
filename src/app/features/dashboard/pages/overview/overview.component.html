<app-dashboard-header></app-dashboard-header>

@if (rolIdUser() === 1) {
  <!-- Menú de pestañas para administradores -->
  <div class="space-y-8">
    <div class="flex space-x-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-xl shadow-inner">
      <button 
        class="flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-[1.02]"
        [class]="activeTab() === 'admin' ? 'bg-white dark:bg-gray-700 shadow-md text-blue-600 dark:text-blue-400' : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'"
        (click)="setActiveTab('admin')">
        <i class="pi pi-shield mr-2"></i> Vista de Administrador
      </button>
      <button 
        class="flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-[1.02]"
        [class]="activeTab() === 'user' ? 'bg-white dark:bg-gray-700 shadow-md text-blue-600 dark:text-blue-400' : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'"
        (click)="setActiveTab('user')">
        <i class="pi pi-user mr-2"></i> Vista de Usuario
      </button>
    </div>

    <div class="space-y-6">
      @if (activeTab() === 'admin') {
        <!-- Contenido de administrador -->
        <app-overview-admin></app-overview-admin>
      } @else {
        <!-- Contenido de usuario normal con sub-tabs -->
        <div class="space-y-6">
          <!-- Sub-tabs para usuario -->
          <div class="flex space-x-2 p-1 bg-gray-50 dark:bg-gray-900/50 rounded-xl shadow-inner border border-gray-200/50 dark:border-gray-700/50">
            <button 
              class="flex-1 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-[1.02]"
              [class]="userActiveTab() === 'current' ? 'bg-white dark:bg-gray-700 shadow-md text-emerald-600 dark:text-emerald-400 border border-emerald-200/50 dark:border-emerald-700/50' : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'"
              (click)="setUserActiveTab('current')">
              <i class="pi pi-chart-line mr-2"></i> Movimientos Actuales
            </button>
            <button 
              class="flex-1 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-[1.02]"
              [class]="userActiveTab() === 'history' ? 'bg-white dark:bg-gray-700 shadow-md text-emerald-600 dark:text-emerald-400 border border-emerald-200/50 dark:border-emerald-700/50' : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'"
              (click)="setUserActiveTab('history')">
              <i class="pi pi-history mr-2"></i> Historial
            </button>
          </div>

          <!-- Contenido de los sub-tabs -->
          @if (userActiveTab() === 'current') {
            <!-- Movimientos actuales -->
            <div class="space-y-6 animate-in slide-in-from-right-4 duration-300">
              <app-card-month-summary></app-card-month-summary>
              <app-card-salary></app-card-salary>
              <app-card-movements></app-card-movements>
            </div>
          } @else if (userActiveTab() === 'history') {
            <!-- Historial -->
            <app-card-record></app-card-record>
          }
        </div>
      }
    </div>
  </div>
} @else if (rolIdUser() === 2) {
  <!-- Contenido para usuarios normales -->
  <div class="space-y-6">
    <!-- Sub-tabs para usuario normal -->
    <div class="flex space-x-2 p-1 bg-gray-50 dark:bg-gray-900/50 rounded-xl shadow-inner border border-gray-200/50 dark:border-gray-700/50">
      <button 
        class="flex-1 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-[1.02]"
        [class]="userActiveTab() === 'current' ? 'bg-white dark:bg-gray-700 shadow-md text-emerald-600 dark:text-emerald-400 border border-emerald-200/50 dark:border-emerald-700/50' : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'"
        (click)="setUserActiveTab('current')">
        <i class="pi pi-chart-line mr-2"></i> Movimientos Actuales
      </button>
      <button 
        class="flex-1 py-2.5 px-4 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:scale-[1.02]"
        [class]="userActiveTab() === 'history' ? 'bg-white dark:bg-gray-700 shadow-md text-emerald-600 dark:text-emerald-400 border border-emerald-200/50 dark:border-emerald-700/50' : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200'"
        (click)="setUserActiveTab('history')">
        <i class="pi pi-history mr-2"></i> Historial
      </button>
    </div>

    <!-- Contenido de los sub-tabs -->
    @if (userActiveTab() === 'current') {
      <!-- Movimientos actuales -->
      <div class="space-y-6 animate-in slide-in-from-right-4 duration-300">
        <app-card-month-summary></app-card-month-summary>
        <app-card-salary></app-card-salary>
        <app-card-movements></app-card-movements>
      </div>
    } @else if (userActiveTab() === 'history') {
      <!-- Historial -->
      <app-card-record></app-card-record>

    }
  </div>
}